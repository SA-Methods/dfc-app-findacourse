- name: convert-to-json
  on: push
  jobs:
  runs-on: ubuntu-latest
  steps:
  - uses: actions/checkout@v1
  - name: script
  run: Tools/ImportExportTool/Data/csv2json.bash 2022-01-06-CurrentLiveData.csv > output.json
  shell: bash

- name: azure-blob-copy-action
  # You may pin to the exact commit or the version.
  # uses: ulaval/azure-blob-copy-action@a5589c66042be9a15da7cc2a28e63adc3a42af3a
  uses: ulaval/azure-blob-copy-action@v1
  with:
    # Either upload or download
    action: upload # default is upload
    # Azure Blob Storage connection string
    connection_string: ${{ secrets.CONNECTION_STRING }}
    # Azure Blob Storage container name
    container_name: githubsearch
    # Directory in Azure to copy from or to
    blob_directory: searchfeedjson
    # Local directory to copy from or to; this can either be an absolute path or a relative path
    local_directory: Tools/ImportExportTool/Data/output.json
    # YAML document that allows setting http headers on blobs when uploading to Azure.
